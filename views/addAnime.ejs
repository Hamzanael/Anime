<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>M&H</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2&family=Great+Vibes&family=Sriracha&display=swap"
    rel="stylesheet">
  <script src="https://kit.fontawesome.com/b63a27db1b.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
    integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
    <link href="https://unpkg.com/webkul-micron@1.1.6/dist/css/micron.min.css" type="text/css" rel="stylesheet">
<script src="https://unpkg.com/webkul-micron@1.1.6/dist/script/micron.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/css/bootstrap-select.min.css"
integrity="sha512-ARJR74swou2y0Q2V9k0GbzQ/5vJ2RBSoCWokg4zkfM29Fb3vZEQyv0iWBMW/yvKgyHSR/7D64pFMmU8nYmbRkg==" crossorigin="anonymous" />
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/css/bootstrap-social.css">
  <link rel="stylesheet" href="/css/styles.css">
</head>


<style>

.alrt {
    color: red; 
    font-size: 1rem; 
    width:fit-content; 
    margin-top: 20px;
}
.frm{
    width: 500px; 
    text-align: center; 
    margin: 0 auto;
     color: red;
}
.text{
  color: red;
}
.dropdown-item{
  padding: 1rem;
}

@media (max-width: 768px) {
    .form-group input{
        margin-left: 4rem;
    }
    .alrt{
      
        
    }
    .frm{
        width: 100%;
    }
    :not(.input-group)>.bootstrap-select.form-control:not([class*=col-]) {
    width: 70%;
}
}
</style>
<section class="admin" >



<form method="POST" action="/saveAnime">
    <div class="form-group frm" >
    <div style="margin: 1rem auto;">
   <label for="title">Anime Name</label>
      <input type="text" class="form-control" id="title" aria-describedby="title" placeholder="Enter Anime Name" name="title" required>
    </div> 
    <div style="margin: 1rem auto;">
      <label for="epNumbers">Epesode number</label>
      <input type="number" class="form-control" id="epNumbers" placeholder="EpNumber" name="epNumbers" required>
    </div> 
      <div style="margin: 1rem auto;">
        <label for="imege">Anime Cover page link</label>
      <input type="text" class="form-control" id="imege"  name="CoverImg" onchange="runImage()" placeholder="example : data:image/jpeg;base644AAQSkZJRgABAQAAAQABAAD2wCEAAkGBxMTEhUTExMWFhUWGRoYGRgYFR0YHRgbGBcXGhgYFhoYHSggGholGxgYIjEhJSkrLi4uGCAzODMtNygtLisBCgoKDg0OGAQGi0lHyUtLS0vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAOEA4QMBIgACEQEDEAbAAAABwEAAAAAAAAAAAAAAAAAAQIDBAUGB//EAEkQAAIAAwUEBwYCBwYDCQAAAAECAAMRBBIhMUEFUWFxBhMigZGh8DJCUrHB0RQjB0N" required >
      <span class="alert alrt " role="alert" id="sp" ></span>

    </div> 

    <div style="margin: 1rem auto;">
      <label for="catagory" style="width: 100%;"> Catagories </label>
      <select class="selectpicker form-control" id="catagory" multiple  name="catagory">
        <option >Action</option>
        <option>Comedy</option>
        <option>Slice-of-Life</option>
        <option>Drama</option>
        <option>Psychological</option>
        <option>Mecha</option>
        <option>History</option>
        <option>Magic</option>
        <option>Romance</option>
        <option>Supernatural</option>
      </select>
      
    </div> 
    <div style="margin: 1rem auto;">
        <label for="discription">Anime discription</label>
        <input type="text" class="form-control" id="discription" placeholder="discription" name="discription" required>
      </div> 
      <div style="margin: 1rem auto;">
        <label for="trailer">Anime trailer link</label>
        <input type="text" class="form-control" id="trailer" placeholder="trailer link" name="trailer" required>
      </div> 
      <div style="margin: 1rem auto;">
        <label for="time">Anime EP time</label>
        <input type="text" class="form-control" id="time" placeholder="time" name="time" required>
      </div> 
      <div style="margin: 1rem auto;">
        <label for="date">Anime create date</label>
        <input type="date" class="form-control" id="date" placeholder="date" name="date" required>
      </div> 

    <button type="submit" class="btn btn-dark">Submit</button>
</div>
  </form>








<script>
$(function (){
    $("#sp").hide(0);

});


function testImage() {
    var url = $("#imege").val();
    var timeoutT = 5000;
    return new Promise(function(resolve, reject) {
      var timeout = timeoutT || 5000;
      var timer, img = new Image();
      img.onerror = img.onabort = function() {
          clearTimeout(timer);
      	  reject("error");
      };
      img.onload = function() {
           clearTimeout(timer);
           resolve("success");
      };
      timer = setTimeout(function() {
          // reset .src to invalid URL so it stops previous
          // loading, but doens't trigger new load
          img.src = "//!!!!/noexist.jpg";
          reject("timeout");
      }, timeout); 
      img.src = url;
    });
}
    

function record(result) {
    if(result==="success"){
        $("#sp").removeClass("alert-danger");
        $("#sp").addClass("alert-primary");
        $("#sp").css("color","#0069D9");
        $("#sp").fadeIn(1000);
    $("#sp").text(result);
    $("#sp").fadeOut(4000);
    $(':input[type="submit"]').prop('disabled', false);
    }else{
        $("#sp").removeClass("alert-primary");
        $("#sp").addClass("alert-danger")
        $("#sp").fadeIn(1000);
    $("#sp").text(result);
    $(':input[type="submit"]').prop('disabled', true);
    }
        
}   

function runImage() {
	  testImage().then(record.bind(null), record.bind(null));
}


</script>

</section>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
 <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.18/js/bootstrap-select.min.js" 
integrity="sha512-yDlE7vpGDP7o2eftkCiPZ+yuUyEcaBwoJoIhdXv71KZWugFqEphIS3PU60lEkFaz8RxaVsMpSvQxMBaKVwA5xg==" crossorigin="anonymous"></script>